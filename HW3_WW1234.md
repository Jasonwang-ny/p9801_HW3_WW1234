HW3\_WW1234
================
Jason Wang
10/4/2019

``` r
#check the data
head(instacart, 10)
```

    ## # A tibble: 10 x 15
    ##    order_id product_id add_to_cart_ord~ reordered user_id eval_set
    ##       <int>      <int>            <int>     <int>   <int> <chr>   
    ##  1        1      49302                1         1  112108 train   
    ##  2        1      11109                2         1  112108 train   
    ##  3        1      10246                3         0  112108 train   
    ##  4        1      49683                4         0  112108 train   
    ##  5        1      43633                5         1  112108 train   
    ##  6        1      13176                6         0  112108 train   
    ##  7        1      47209                7         0  112108 train   
    ##  8        1      22035                8         1  112108 train   
    ##  9       36      39612                1         0   79431 train   
    ## 10       36      19660                2         1   79431 train   
    ## # ... with 9 more variables: order_number <int>, order_dow <int>,
    ## #   order_hour_of_day <int>, days_since_prior_order <int>,
    ## #   product_name <chr>, aisle_id <int>, department_id <int>, aisle <chr>,
    ## #   department <chr>

``` r
summary(instacart)
```

    ##     order_id         product_id    add_to_cart_order   reordered     
    ##  Min.   :      1   Min.   :    1   Min.   : 1.000    Min.   :0.0000  
    ##  1st Qu.: 843370   1st Qu.:13380   1st Qu.: 3.000    1st Qu.:0.0000  
    ##  Median :1701880   Median :25298   Median : 7.000    Median :1.0000  
    ##  Mean   :1706298   Mean   :25556   Mean   : 8.758    Mean   :0.5986  
    ##  3rd Qu.:2568023   3rd Qu.:37940   3rd Qu.:12.000    3rd Qu.:1.0000  
    ##  Max.   :3421070   Max.   :49688   Max.   :80.000    Max.   :1.0000  
    ##     user_id         eval_set          order_number      order_dow    
    ##  Min.   :     1   Length:1384617     Min.   :  4.00   Min.   :0.000  
    ##  1st Qu.: 51732   Class :character   1st Qu.:  6.00   1st Qu.:1.000  
    ##  Median :102933   Mode  :character   Median : 11.00   Median :3.000  
    ##  Mean   :103113                      Mean   : 17.09   Mean   :2.701  
    ##  3rd Qu.:154959                      3rd Qu.: 21.00   3rd Qu.:5.000  
    ##  Max.   :206209                      Max.   :100.00   Max.   :6.000  
    ##  order_hour_of_day days_since_prior_order product_name      
    ##  Min.   : 0.00     Min.   : 0.00          Length:1384617    
    ##  1st Qu.:10.00     1st Qu.: 7.00          Class :character  
    ##  Median :14.00     Median :15.00          Mode  :character  
    ##  Mean   :13.58     Mean   :17.07                            
    ##  3rd Qu.:17.00     3rd Qu.:30.00                            
    ##  Max.   :23.00     Max.   :30.00                            
    ##     aisle_id     department_id      aisle            department       
    ##  Min.   :  1.0   Min.   : 1.00   Length:1384617     Length:1384617    
    ##  1st Qu.: 31.0   1st Qu.: 4.00   Class :character   Class :character  
    ##  Median : 83.0   Median : 8.00   Mode  :character   Mode  :character  
    ##  Mean   : 71.3   Mean   : 9.84                                        
    ##  3rd Qu.:107.0   3rd Qu.:16.00                                        
    ##  Max.   :134.0   Max.   :21.00

``` r
#count the number of aisle_id
instacart %>% 
  janitor::clean_names() %>%               ##clean the data
  group_by(aisle_id) %>%                   ##according aisle_id to group
  summarize(aisle_count = n()) %>%         ##count the aisle id appear time
  arrange(desc(aisle_count))               ##according the aisle_cout from large to small
```

    ## # A tibble: 134 x 2
    ##    aisle_id aisle_count
    ##       <int>       <int>
    ##  1       83      150609
    ##  2       24      150473
    ##  3      123       78493
    ##  4      120       55240
    ##  5       21       41699
    ##  6      115       36617
    ##  7       84       32644
    ##  8      107       31269
    ##  9       91       26240
    ## 10      112       23635
    ## # ... with 124 more rows

There are 134 aisle here and aisle id 83 is most ordered and times is
150609

``` r
#plot show the number of items ordered in each aisle
instacart %>% 
  janitor::clean_names() %>%                        ##clean the data
  group_by(aisle_id) %>%                            ##according aisle_id to group
  summarize(product_total_order = n()) %>%          ##count the aisle id appear time
  filter(product_total_order >= 10000) %>%          ##according the aisle_cout from large to small
  ggplot(aes(x = aisle_id, y = product_total_order)) +
  geom_point(size = 5, color = "red") +
  labs(
    title = "number of productions ordered from each aisle",
    x = "number of productions ordered",
    y = "aisle identification",
    caption = "data from  https://www.instacart.com/datasets/grocery-shopping-2017"
  ) +
  theme(
    plot.title = element_text(hjust = 0.5, size = 20, face = "bold", color = "blue")
  )
```

![](HW3_WW1234_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->

``` r
## setup a filter factor 
filter_factor = c("baking ingredients", "dog food care", "packaged vegetables fruits")

instacart %>% 
  group_by(aisle_id, aisle) %>% 
  summarize(
    order_times = n()
  ) %>% 
  filter(aisle %in% filter_factor) %>% 
  show()
```

    ## # A tibble: 3 x 3
    ## # Groups:   aisle_id [3]
    ##   aisle_id aisle                      order_times
    ##      <int> <chr>                            <int>
    ## 1       17 baking ingredients               13088
    ## 2       40 dog food care                     1612
    ## 3      123 packaged vegetables fruits       78493
